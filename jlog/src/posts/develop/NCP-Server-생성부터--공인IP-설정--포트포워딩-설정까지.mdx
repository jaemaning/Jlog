---
title: "NCP Server 생성부터 - 공인IP 설정 - 포트포워딩 설정까지"
description: "NCP 서버 생성 과정을 진행합니다. 추후에 웹 서비스 진행을 위한 공인IP 설정 및 포트포워딩까지 알아보았습니다."
date: 2024-08-29T08:13:56.967Z
tags: ["G1","micro","ncp","server","공인IP","무료서버"]
category : "Python"
---
그동안 NextJs 블로그 만들기 프로젝트를 잠시 미뤄두고 공모전 참여와 업무에 집중하였는데, 이제 다시 한가해지기에 미뤄뒀던 블로그 프로젝트를 다시 진행해 보려고 합니다.
(사실은 server 비용문제 때문에 돈 걱정을..)

처음에 생각했던 서버는 AWS EC2 T2 Micro 서버로 가장 대중적이고 많이 사용하는 무료 프리티어 버전 서버입니다. 하지만 T2 Micro로 구축하고 간단한 테스트 구동을 해보았는데, 메모리가 1GB / 용량 30GB로 테스트 구동이지만 상당히 버벅대는 모습을 보였습니다.

그렇게 결제를 해야하나고민하던 찰나 NCP 서버를 찾아보았습니다.

사실 NCP 서비스는 기존에 Storage service, CLOVA 등 몇몇 서비스를 이용해보아서 server 가 존재하는 건 알았지만 유료로 보았던것 같아 테스트를 시도해보지도 못했었는데, 1년 무료 항목을 보았습니다. AWS와 환경은 비슷해 보이는데 테스트는 진행해보기로 했습니다.


![](/images/40259789-590f-40df-8dd4-97321680c3e3-image.png)


만약 성능 이슈로 서비스가 어렵다면, 이보다 한단계 위 서버인 compack-g1 서버를 빌려 테스트하고 블로그 운영을 하도록 하겠습니다.


![](/images/1199dcfe-50d6-452f-887e-f2ddf32d0278-image.png)


사실 서버운영을 안하고 vercel 등 nextjs 무료 배포 서비스를 그냥 맡길까도 싶었지만, 제가 직접 서버 운영을 해서 다양한 기능을 더하고 싶었습니다.

그럼 바로 생성하고 설정을 진행해보겠습니다.

## 서버 생성

1. ncp 홈페이지에 접속하여 [ 서비스 - server - 이용신청 ] 순으로 서버 생성 콘솔 탭에 진입합니다.

![](/images/34aa8a3b-5c6a-4e5d-ab5f-9aa16468a6b2-image.png)



2. 다음처럼 서버관련 콘솔 웹페이지로 디렉션되고 [ 서버 생성 ] 버튼을 통해 서버 생성을 진행합니다.

![](/images/0ccc420c-f292-48a0-b29e-8fea823fabbc-image.png)



3. 서버 생성 화면에서 자신이 사용하고자하는 서버 스펙을 선택합니다. 무료버전의 경우 아래와같이 선택합니다.
- 부팅 디스크 50GB
- OS
- CentOS
- Micro
*CentOS 버전은 둘 중 어떤걸 사용하셔도 상관 없습니다. 버전의 차이가 크지않아 버전별 설명은 넘어가겠습니다. 

![](/images/3bd61aee-b37e-4f04-99f4-24883cf5bda8-image.png)


> 보통 리눅스 서버에 많이 사용하는 편의성이 뛰어난 Ubuntu를 설정할 수 없어 아쉽지만, 개인적으로 CentOS는 Ubuntu에 비해 보수적인 업데이트 정책으로 보안과 안정성이 뛰어난 것으로 알려져있어 국가기관 서버에 주로 이용하는 것으로 알고 있습니다.
그러나 CentOS 7 버전은 2024.6.30 기준 지원 종료(End Of Life, EOL)되었습니다. EOL 된지 2달여 밖에 되지않아 문제는 없을 것으로 보이며 안정성 측면에서 인정받는 CentOS7이기에 걱정은 되지 않습니다. 활발히 기능 개발이 진행되는 NCP인 만큼 CentOS Stream 8 버전으로 업그레이드를 기대하겠습니다.

- 사진을 깜빡하였는데, 서버 생성이 무료버전은 1개까지만 생성이 가능합니다. 또한 서버 중지후 서버 반납을 완료하여야 1년 무료 이후 과금이 되지 않습니다. 저는 이미 서버를 만들어 두어 다음 사진부턴 다른 블로그의 캡쳐자료로 진행하겠습니다.

![](/images/e615d56b-260a-4b56-99bc-399a352db6de-image.png)



4. 1년 무료 서버의 경우 스토리지 종류를 SSD, HDD 어떤걸로 해도 상관없지만, 아래와 같은 차이를 보입니다. 서버 타입, 서버 세대를 알맞게 설정하신 후 [다음] 을 눌러 진행합니다.
- SSD로 할 경우 SSD 용량은 10GB - 월 11,000원 (1년 이후)
- HDD로 할 경우 HDD 용량은 50GB - 월 13,000원 (1년 이후)

![](/images/34b94461-3e45-4165-9ed2-e7817d9ba4e4-image.png)


5. 인증키 설정에선 보유하고 있는 인증키 이용을 할 수 있지만 서버 생성이 처음이라면 인증키 생성 및 저장을 통해 새로 발급받아야합니다.
원하시는 이름으로 인증키를 새로 발급받으시고 안전한 곳에 보관합니다.

![](/images/ed36012c-471b-4c16-a20c-f06de747cf08-image.png)



6. ACG 생성 부분입니다. 새로운 ACG 를 생성해서 저처럼 미리 설정해두어도 괜찮고 나중에 설정이 가능하니 지금은 넘어가셔도 무방합니다.

![](/images/574cc56b-e821-418a-be46-4d1a20c67e8f-image.png)



7. 저는 backend 서버를 구현하기 위해 필요한 일부 ACG 설정을 세팅해두었습니다. 

![](/images/b8466599-e7a5-4c60-8f34-e1834622b3b5-image.png)



8. 아래 화면 처럼 최종 확인을 하고 넘어가시면 부팅중/셋팅중 상태를 거쳐 운영중 표시가 뜨게 되며, NCP 계정 알림과 메일로 서버생성이 완료되었음을 알려주게됩니다.

![](/images/1208f08d-72e7-47fc-af5f-b5254030418c-image.png)



9. 수분~수십분 뒤 잠시 다른일좀 하다가 보면 어느새 진행중이 되어있습니다.

![](/images/0ceb5343-f165-41f6-994a-c311ca5da507-image.png)



## 공인 IP 설정
웹서비스를 배포하기 위해선 공인 IP 설정이 필요합니다. 

> 공인 IP 설정은 NCP에선 유료이기 때문에, 만약 내가 리눅스 서버를 통해서 연습이나 정적인 코드 정도만 돌리신다고 하시면 포트포워딩만 하셔서 사용하셔도 무방합니다.

1. 공인IP 설정을 진행할 서버를 체크 하신 뒤에, 공인 IP 설정을 위해 [ 서버 관리 및 설정 변경 - 공인 IP 설정 변경 ] 순으로 들어갑니다.

![](/images/e23d05cc-34a5-4193-83bf-9c073fab45ab-image.png)



2. 만약 공인 IP를 할당받은 적이 없다면 아래 화면처럼 공인IP가 없다는 문구가 나오게 되고 확인을 통해 발급 화면으로 넘어가게 됩니다.

![](/images/792dd185-905a-4bd1-81f9-f72d68e39ad4-image.png)



3. 발급화면으로 넘어오게되면 [ 공인 IP 신청 ] 버튼을 통해 발급 받으 실 수 있습니다.

![](/images/7f8258ed-6107-4c35-aec5-613d32c1c017-image.png)


4. 설정할 리전 Zone과 서버를 선택하고 [ 다음 ] 버튼을 통해 진행합니다.

![](/images/2930a64d-9946-45cb-8cae-47067c9b6baf-image.png)


5. 최종적으로 [ 생성 ] 버튼을 통해 공인 IP를 생성하시면 됩니다. 

![](/images/3683aad9-6391-4311-9898-d4d5ae0725a7-image.png)

> 이는 내가 사용하지 않기때문에 발생하지 않는다고 생각하시면 안되고 반드시 서버를 반납하셔야 비용 청구가 중단됩니다. 공인 IP 신청에는 월 4,032원이 발생하며, 서버 반납을 진행한 해당 월에는 일단위로 계산되어 비용이 청구됩니다. 또한 NCP에선 소액의 금액에 대해선 청구 되지않으니 실수 또는 연습, 테스트 용으로 잠깐 공인 IP 발급을 하신 분들은 바로 서버 반납을 진행하시면 비용 청구가 되지 않습니다.


6. 저는 이미 ACG 설정을 해두었기 때문에 따로 설정하지는 않겠습니다.

![](/images/69ccd6f9-6092-43b9-92e7-dfc4d23d76bd-image.png)


7. 왼쪽 목록에서 [ server ] 를 선택해주시면 아래 사진처럼 공인IP가 발급된 것을 확인할 수 있습니다. 또한 NCP 에선 서버 접속 콘솔 터미널을 웹 브라우저 환경에서 제공해 주는데요. 서버를 체크하시고 [ 서버 접속 콘솔 ] 버튼을 눌러 터미널을 통해 접속이 되는지 확인해보겠습니다.

![](/images/a03c0cc1-f150-4285-804c-ed89fb8f8f54-image.png)



8. 터미널에 접속해보니 비밀번호를 입력해야합니다. 비밀번호를 발급 받겠습니다. 우선 아래 터미널 창을 종료해주시고 (비밀번호를 알고 계신다면 패스워드를 통해 접속 테스트를 진행해보시면 됩니다.)

![](/images/ca029a5d-8fff-477d-a144-26e1f1562b6d-image.png)

아래 화면과 같이 서버에서 [ 서버 관리 및 설정 변경 ] - [ 관리자 비밀번호 확인 ] 탭으로 들어갑니다.

![](/images/4d8fa0c7-9b47-4e64-9f73-1fc2fa70a78f-image.png)

아래 사진처럼 인증키 이름에 해당하는 파일을 가져와야하는데, 위에서 서버를 생성할 때 생성 및 다운로드 받았던 [인증키이름].pem 키를 가져와 넣어주면 됩니다.

![](/images/b2ce788a-adfd-4c3f-b452-3f8bc9c6da7c-image.png)

비밀번호를 발급 받으면 잊어버리지 않도록 기록해두시고 추후 비밀번호를 변경하도록 하겠습니다.

![](/images/c60d954d-3800-46a2-8c61-1366bea26e95-image.png)

비밀번호 찾기가 완료 되었으면, 이전 웹 터미널 제공 환경에서 브라우저상에 
ID : root / PW : 찾은 password 를 입력하여 접속 테스트를 해보시면 됩니다. 저는 다시 들어가니 화면이 나오지 않아 터미널에서 접속 테스트를 하였습니다.

![](/images/750cdee6-74f1-4b40-b8ee-f3a06b8cdefd-image.png)

원활하게 접속이 된다면 설정은 완료되었습니다. 

## 포트포워딩

자세한 정보를 원하시면 [ncp 포트포워딩 가이드](https://guide.ncloud-docs.com/docs/ko/server-manage-classic) 확인을 부탁드립니다.

기본적으로 서버에 접속하려면 포트포워딩하여 서버 접속용 공인 IP : 외부포트번호
를 통해 내부 서버의 접속용 포트로 포워딩 하게됩니다.

1. 포트포워딩할 서버를 선택하고 포트포워딩 설정 또는 하단에 포트포워딩 정보 보는 버튼을 통해 들어간 후

![](/images/715291ba-1fb1-408b-b001-fd1862312834-image.png)

외부 포트 번호만 내가원하는 번호로 수정한 후 추가를 통해 접속 포트포워딩 추가하고 [ 적용 ] 버튼을 눌러 저장합니다.
**이 때 포트 포워딩 사용시 유의사항으로 아래 3가지를 주의!**
- 포트 포워딩은 외부에서 서버에 접속하는 방법입니다. 외부 포트 번호 범위는 1,024 ~ 65,534이며, 서버 접속을 위한 기능 외에 서비스 용도로는 사용할 수 없습니다.(22같은 포트번호는 사용할 수 없다)
- Linux 서버는 터미널 프로그램을 이용한 SSH 접속을 권장합니다.
- Windows 서버는 원격 데스크탑으로 접속할 수 있습니다. (윈도우 사용시 putty, mobaXterm 등의 프로그램으로 접속가능합니다.)

![](/images/1810c743-e3bf-42a6-bf00-41fcd7594bac-image.png)


2. 확인을 위해 terminal 에서 ssh로 확인합니다.
- 빨간색 박스: 외부 접속용 공인 IP
- 파란색 박스: 포트포워딩시 설정한 외부포트
```> ssh root@{외부접속용공인IP} -p {외부포트}``` or 
```> ssh -p {외부포트} root@{외부접속용공인IP}``` 순서가 바뀌어도 상관없습니다.

![](/images/72340ef8-461e-4e02-8dbd-bf78ffd051df-image.png)


이렇게 사용 환경까지 알아봤는데 알아보며 추가로 클라우드 관련 자격증이 보여 설명 드린 뒤 블로그 서버 구성을 위한 테스트 및 서버 구성은 추후에 진행하도록 하겠습니다.

### 서버 중지
해당 서버는 무료서버로 인해 비용이 발생하진 않지만, 위에서 말씀드린 공인IP 를 발급받을 경우 공인IP 서버를 운영 중 비용이 발생하게 됩니다.(4,032원) 이 비용을 없애기 위해선 서버를 중지해야하는데, 이 케이스를 [NCP Linux 서버생성 가이드](https://www.ncloud.com/guideCenter/guide/1)를 통해진행해주시면 원활한 진행이 가능할 것 같습니다.

또한 제가 작성한 글보다 더 잘 작성되어 있는 것 같아. 제 부족한 글쓰기 능력으로 인해 이해가 어려워 좀 더 자세한 NCP 리눅스 서버 구축 방법이 궁금하신 분은 참고하시면 좋을 것 같습니다.

### 최종 비용 산출

[NCP - Mypage - 운영관리] 로 접속하면 아래와같은 서비스 이용 내역을 볼 수 있는 표가 주어집니다.

아래는 제가 현재 실제 운영중인 NCP 서비스 비용들이 나와있습니다.


![](/images/0d629959-adba-40ef-ab0d-3c6a189b17c9-image.png)

* 노란색 : 서버관련 비용으로 서버 운영 시작일을 기준으로 현재까지 사용된 요금으로 적게 잡혀있습니다. Server 는 현재 무료 서버를 사용중이므로 서비스별 할인 금액 자체에서 전액 할인 된 모습이 보여집니다.
  - Public IP : 공인IP 사용비용
  - Server : 서버 사용 요금
  - Software : 각종 소프트웨어 이미지 사용 요금(CentOS7 설치 비용인 듯 함. 다른 유료서버의 경우 Ubuntu 특정 버전은 유료로 제공됨)
* 초록색 : Public IP, 제가 다른 서비스로 사용중인 Object Storage 비용이 합쳐 납부 예상 금액은 총 500원으로 이건 금액자체가 적어 NCP 측에서 할인적용 해주신 것 같습니다.
 



## 클라우드 관련 자격증
클라우드/인프라 현직분들이나 취업을 준비하시는 분들은 이미 들어보셨거나 관련 자격증 취득을 하셨을 것 같습니다. 사실 시장 규모로만 본다면 아직까진 국내외를 막론하고 AWS의 인기가 가장 많기에 AWS 자격증 취득이 가장 인기가 있는 것이 사실입니다.

그러나 제 생각에 리스크를 줄이기 위해 쪼개서 관리하고 백업해두기를 좋아하는 개발분야의 특성상 AWS 서버로 서비스를 구축하더라도 백업서버는 다른 클라우드 서버로 구축한다던지, MSA로 서비스를 쪼개서 운영할 때 클라우드 서버를 여러개 두어 서비스를 운영하는 등 무조건 AWS만을 공부해야한다는건 좋지 않은 것 같습니다.

네 이말은 그렇다고 꼭 NCP 자격증을 따야할 필요도 없습니다. 이 밖에도 MS Azure, Google Cloud Platform(GCP) 등이 있습니다.

### 왜 굳이 NCP ?

NCP의 경우 Naver라는 한국기업이 운영하고 있기에 서비스가 한국 친화적이며 자격증 시험과 관련해서도 한국 클라우드 플랫폼 기업이기에 시험 자체가 한국 친화적으로 느껴지는 것도 있습니다. 사실 저는 이점이 가장 매력적이긴 하지만 모호한 장점말고 구체적인 장점을 가장 인기있는 AWS 자격증과 비교해 살펴보면,

![](/images/97cc9d6d-a20d-451d-b47b-99118255980e-image.png)

물론 AWS의 경우 인기가 많다보니 준비할 수 있는 많은 사설 유료강의, 도서, 기출사이트 등 공부할 수 있는 방법은 많지만, 자격증의 편의성, 금액 등을 살펴봤을 때 취준생의 입장에선 NCP 측이 더 효율적이라고 느껴졌습니다.

### NCP 자격증 관련 정리
현재 NCP에는 5가지 자격증이 있습니다.
- NCA (NAVER CLOUD PLATFORM Certified Associate)
- NCP (NAVER CLOUD PLATFORM Certified Professional)
- NCE (NAVER CLOUD PLATFORM Certified Expert)
- NCAI (NAVER CLOUD PLATFORM Certified AI)
- NCEAI (NAVER CLOUD PLATFORM Certified Expert AI)


![](/images/3e65e1f9-fb94-4b80-8d3c-c5f4b93be1a8-image.png)


NCA(1과목) - NCP(3과목) - NCE(4과목) 순으로 순차적으로 자격증을 취득하실 수 있습니다.

최근에는 Naver Clova Studio 기반의 AI API 활용 시험도 신설되며 Naver 측에서 자사 AI 서비스를 얼마나 중요하게 생각하고 있는지 알 수 있는 것 같습니다.


![](/images/13b9ed09-47c1-4187-9279-2c86eef73d03-image.png)


마지막으로 [온라인 클라우드 코스 교육](https://bizschool.naver.com/online/courses/76?order=RECENT)까지 알려드리면서 마무리하겠습니다.

긴글 읽어주셔서 감사합니다.